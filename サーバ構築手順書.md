

sudo apt install vsftpd
sudo apt-get install vim


設定ファイルの変更
sudo vim /etc/vsftpd.conf 
下記を変更。

#ファイルシステムを変更するFTPコマンドを許可する（コメントを外す）
write_enable=YES

#デフォルトのファイルマスク設定を変更し他ユーザからのリードを許可（コメントを外す）
local_umask=022

#アスキーモードのアップロードを許可する（コメントを外す）
ascii_upload_enable=YES
#アスキーモードのダウンロードを許可する（コメントを外す）
ascii_download_enable=YES

#設定したディレクトリより上層への移動を禁止する（コメントを外す）
chroot_local_user=YES
#YESの場合、リストアップされたユーザはchrootの対象から除外される（コメントを外す）
chroot_list_enable=YES
#リストアップのファイルの場所を指定する（コメントを外す）
chroot_list_file=/etc/vsftpd.chroot_list

#サブフォルダを含む一括アップロード・ダウンロードを出来るようにする（コメントを外す）
ls_recurse_enable=YES

#ルートディレクトリを指定する（最後に追加）
local_root=/var/www

#seccomp filter をオフを追記する（最後に追加）
seccomp_sandbox=NO

























#サーバ環境構築手順

1. VirtualBoxのインストール
https://www.virtualbox.org/wiki/Downloads
上記から自分の端末にあったパッケージをダウンロード＆インストールする。

2. Vagrantのインストール
https://www.vagrantup.com/downloads.html
上記から自分の端末にあったパッケージをダウンロード＆インストールする。

3. Boxの選択
https://app.vagrantup.com/boxes/search
上記からインストールするOSを探す。
※ProviderがVirtualBoxであるものを選択すること。

今回は、ubuntu/bionic64を選択する。

4. インスタンスの作成
$ mkdir ~/vagrant
$ mkdir ~/vagrant/ubunt_server
$ cd ~/vagrant/ubunt_server
$ vagrant init ubuntu/bionic64


5. Vagrantfile書き換え
$ vim ./Vagrantfile
（例）ホスト側8080ポートをゲスト側80ポートにフォワードする
$ vagrant reload

Vagrantfile内
# config.vm.network "forwarded_port", guest: 80, host: 808
config.vm.network "forwarded_port", guest: 80, host: 8080

6. サーバ起動
$ vagrant up

7. vagrant@ubuntu-bionic上で
以下コマンドを実行
$ pip install watchdog
$ apt install unzip
設定
インフラ

memo------
起動
$ vagrant up
シャットダウン
$ vagrant halt
再起動
$ vagrant reload
状態確認
$ vagrant status
一時停止
$ vagrant suspend
復帰
一時停止中から復帰する。
$ vagrant resume

サーバへアクセス
＄ vagrant ssh
または
$ ssh vagrant@127.0.0.1 -P 2222 -i 秘密鍵



